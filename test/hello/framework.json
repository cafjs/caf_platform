{
    "name": "top",
    "module" : "./platform_main",
    "description" : "Platform supervisor",
    "env" : {
        "maxRetries" : "process.env.maxRetries||10",
        "retryDelay" : "process.env.retryDelay||1000",
        "leaseTimeout": "process.env.leaseTimeout||60",
        "interval": "process.env.interval||1000",
        "dieDelay": "process.env.dieDelay||-1",
        "maxHangRetries":  "process.env.maxHangRetries||10"
    },
    "components": [
        {
            "module": "caf_components#plug_log",
            "name": "log",
            "description": "Logger service",
            "env" : {
                "logLevel" : "TRACE"
            }
        },
        {
            "name": "cp",
            "module" : "caf_redis#plug",
            "description" : "redisPlug",
            "env" : {
               "nodeId": "ssdsdasdsd_1",
               "redis" : {
                   "password" : null,
                   "host" : "localhost",
                   "port" : 6379
                },
                "coalescing" : {
                    "interval" : 10,
                    "maxPendingUpdates" : 10
                }
            }
        },
        {
            "module": "./plug_lease",
            "name": "lease",
            "description": "Lease service",
            "env" : {
                "leaseTimeout": "$._.env.leaseTimeout"
            }
        },
        {
            "module": "./plug_registry",
            "name": "registry",
            "description": "CA registry service",
            "env" : {
                "__ca_json__" : "ca.json",
                "maxRetries" :"$._.env.maxRetries",
                "retryDelay" : "$._.env.retryDelay"
            },
            "components" : [
            ]
        },
        {
            "module": "./cron_lease",
            "name": "cron_lease",
            "description": "Lease service cron",
            "env" : {
                "interval":"$._.env.interval"
            }
        },
        {
            "module": "./cron_pulser",
            "name": "cron_pulser",
            "description": "Pulser service cron",
            "env" : {
                "interval":"$._.env.interval"
            }
        },
        {
            "module": "./cron_ripper",
            "name": "cron_ripper",
            "description": "Ripper service cron",
            "env" : {
                "interval":"$._.env.interval"
            }
        },
        {
            "module": "./cron_security",
            "name": "cron_security",
            "description": "Security service cron",
            "env" : {
                "interval":"$._.env.interval"
            }
        }
    ]
}
